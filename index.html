<!DOCTYPE html><html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>打擊紀錄</title>
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#2196f3">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <style>
    body {
      background-color: #121212;
      color: white;
      font-family: sans-serif;
      margin: 0;
      padding: 0;
    }main {
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  gap: 10px;
  padding: 10px;
}

#canvas-area {
  flex: 5;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px dashed #666;
  background: #1e1e1e;
  max-width: 950px;
  aspect-ratio: 16 / 9;
}

#field-bg, #hitCanvas {
  position: absolute;
  width: 100%;
  height: 100%;
  object-fit: contain;
}

#popup {
  position:absolute;
  right:20px;
  top:20px;
  background:#1e1e1e;
  box-shadow:0 0 5px rgba(0,0,0,0.5);
  border-radius:8px;
  padding:8px;
  z-index:10;
}

.btn-light {
  padding: 12px 18px;
  margin: 6px;
  font-size: 16px;
  border-radius: 6px;
  border: 1px solid #444;
  background: #1e1e1e;
  color: white;
  transition: 0.2s;
}

.btn-light:hover {
  background-color: #2196f3;
  color: white;
}

.btn-light.selected {
  background: #ff2e7a;
  color: white;
  font-weight: bold;
}

#controls {
  flex: 3;
  background-color: #1e1e1e;
  padding: 10px;
  border-radius: 6px;
  height: 100%;
  overflow-y: auto;
}

#controls h4 {
  color: #ff2e7a;
}

#log-area {
  max-height: 60vh;
  overflow-y: auto;
  background: #2c2c2c;
  padding: 10px;
  border-radius: 6px;
}

  </style>
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#2196f3">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
</head>
<body>
  <main>
    <div id="canvas-area">
      <img src="https://cdn.ttv.com.tw/manasystem/FileData/News/1ee242e9-56c7-4851-a39e-66789603f1db.jpg" id="field-bg">
      <canvas id="hitCanvas" width="900" height="500"></canvas>
      <div id="popup">
        <button class="btn-light" onclick="selectResult('安打')">安打</button>
        <button class="btn-light" onclick="selectResult('接殺')">接殺</button>
        <button class="btn-light" onclick="clearCanvas()">重畫</button>
      </div>
    </div>
    <div id="controls">
      <h4>打擊紀錄</h4>
      <div id="log-area"></div>
    </div>
  </main>  <script>
    const canvas = document.getElementById('hitCanvas');
    const ctx = canvas.getContext('2d');
    let drawing = false;

    canvas.addEventListener('pointerdown', (e) => {
      const rect = canvas.getBoundingClientRect();
      ctx.beginPath();
      ctx.moveTo(e.clientX - rect.left, e.clientY - rect.top);
      drawing = true;
    });

    canvas.addEventListener('pointermove', (e) => {
      if (!drawing) return;
      const rect = canvas.getBoundingClientRect();
      ctx.lineTo(e.clientX - rect.left, e.clientY - rect.top);
      ctx.strokeStyle = '#ff2e7a';
      ctx.lineWidth = 2;
      ctx.stroke();
    });

    canvas.addEventListener('pointerup', () => {
      drawing = false;
    });

    function clearCanvas() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
    }

    function selectResult(result) {
      console.log('選擇結果：' + result);
    }
  </script>  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('./service-worker.js')
        .then(() => console.log("Service Worker Registered"));
    }
  </script>  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('./service-worker.js')
        .then(() => console.log("Service Worker Registered"));
    }
  </script></body>
</html>
